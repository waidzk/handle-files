<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Handle Files</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"
        integrity="sha512-5A8nwdMOWrSz20fDsjczgUidUBR8liPYU+WymTZP1lmY9G6Oc7HlZv156XqnsgNUzTyMefFTcsFH/tnJE/+xBg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.css" />
    <style>
        .fancybox__container {
            z-index: 99999;
        }
    </style>
</head>

<body>
    <div class="container">
        <nav class="navbar bg-body-tertiary mb-3">
            <div class="container-fluid">
                <a class="navbar-brand" href="#">
                    Handle Files by wdzdev
                </a>
            </div>
        </nav>
        <h1 class="fs-3">With Modal BS5</h1>
        <hr />
        <div class="row">
            <div class="col-md-6">
                <h2 class="fs-5 mb-2">Upload Photos/ Files</h2>
                <div class="container-upload-with-modal">
                    <!-- Button trigger modal upload photos -->
                    <button type="button" class="btn btn-primary btn-modal" data-bs-toggle="modal"
                        data-bs-target="#uploadFile">
                        <i class="fa fa-upload me-2" aria-hidden="true"></i>Upload Photos/ Files
                    </button>
                    <!-- Modal Upload Photos -->
                    <div class="modal fade" id="uploadFile" aria-labelledby="uploadFileLabel" aria-hidden="true">
                        <div class="modal-dialog modal-fullscreen">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h1 class="modal-title fs-5" id="uploadFileLabel">Upload Photos/ Files</h1>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                                        aria-label="Close"></button>
                                </div>
                                <div class="modal-body"
                                    style="width: 100%;display: flex;flex-direction: column;align-items: center;">
                                    <div style="max-width:420px">
                                        <input type="file" class="saved form-control mt-3 d-none" multiple
                                            id="input-file" />
                                        <div class="camera-section w-100"></div>
                                        <div class="file-input-section w-100 mt-2"></div>
                                        <div class="file-list-section w-100">
                                            <div class="fileList mt-2 w-100"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Done</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Button trigger modal uploaded photos -->
                    <button type="button" class="btn btn-primary btn-modal" data-bs-toggle="modal"
                        data-bs-target="#uploadedFile">
                        <i class="fa fa-file me-2" aria-hidden="true"></i>Uploaded Photos/ Files
                    </button>
                    <!-- Modal Uploaded Photos -->
                    <div class="modal fade" id="uploadedFile" aria-labelledby="uploadedFileLabel" aria-hidden="true">
                        <div class="modal-dialog modal-fullscreen">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h1 class="modal-title fs-5" id="uploadedFileLabel">Uploaded Photos/ Files</h1>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                                        aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <div class="row g-3 p-4 uploaded-files" 
                                        data-parentElement=".container-upload-with-modal"
                                        data-enableCamera="1" 
                                        data-enableFileInput="1"
                                        data-fileType=".jpeg, .jpg, .png, .docx, .xlsx, .pdf" 
                                        data-previewImage="1"
                                        data-fileLimitQty="10" 
                                        data-modal="1"
                                        data-btnUploadTextModal="<i class='fa fa-upload me-1' aria-hidden='true'></i>Upload Photos/ Files"
                                        data-btnUploadedTextModal="<i class='fa fa-upload me-1' aria-hidden='true'></i>See Uploaded Photos/ Files"
                                        data-uploadedText="Uploaded photos by Customer is "
                                        >
                                        <div class="col-md-3 uploaded-file">
                                            <div
                                                class="d-flex justify-content-center align-items-center bg-light rounded-lg position-relative">
                                                <a class="fancybox-item" data-fancybox="photos"
                                                    data-src="assets/image (1).jpg">
                                                    <img src="assets/image (1).jpg" class="w-100"
                                                        style="height: 150px;" />
                                                    <span onclick="deleteUploadedFile(this)"
                                                        class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                                                        <i class="fa fa-times"></i>
                                                        <span class="visually-hidden">delete file</span>
                                                    </span>
                                                </a>
                                            </div>
                                        </div>

                                        <div class="col-md-3 uploaded-file">
                                            <div
                                                class="d-flex justify-content-center align-items-center bg-light rounded-lg position-relative">
                                                <a class="fancybox-item" data-fancybox="photos"
                                                    data-src="assets/image (2).jpg">
                                                    <img src="assets/image (2).jpg" class="w-100"
                                                        style="height: 150px;" />
                                                    <span onclick="deleteUploadedFile(this)"
                                                        class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                                                        <i class="fa fa-times"></i>
                                                        <span class="visually-hidden">delete file</span>
                                                    </span>
                                                </a>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Done</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6">

        </div>
    </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.umd.js"></script>
    <script src="assets/handle-files.js"></script>

    <script>
        handle_files({
            parentElement: `.container-upload-with-modal`,
            enableCamera: true,
            enableFileInput: true,
            fileType: ".jpeg, .jpg, .png, .docx, .xlsx, .pdf",
            previewImage: true,
            fileLimitQty: 10,
            uploadedFileQty: 2,
            modal: true,
            btnUploadedTextModal: `<i class="fa fa-upload me-1" aria-hidden="true"></i>See Uploaded Photos/ Files`,
            btnUploadTextModal: `<i class="fa fa-upload me-1" aria-hidden="true"></i>Upload Photos/ Files`,
            uploadedText: `Uploaded files by other users is`
        })
    </script>
</body>

</html>